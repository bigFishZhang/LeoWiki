# 模块介绍
1. Q音中很多业务点位都需要接入视频播放,比如排行榜,歌单,搜索直达区...以下是一个封装的视频播放组件介绍,方便大家接入播放
2. 参考用例:**个性化歌单：QMPersonalizedHeaderBgView**

# 支持的能力
1. 支持播放数据源
   1. 传入视频Vid进行播放
   2. 传入视频tab的QMVideoCardFeedModel进行播放
   3. 传入MVInfo进行播放
2. 默认配置
   1. 默认静音播放
   2. 默认循环播放
   3. 默认居中播放展示（比如竖屏的视频,会取中间部分展示）
3. 支持配置
   1. 支持配置强制自动播放,不受WIFI下禁止自动播放开发控制
   2. 支持配置不展示视频加载Loading提示
   3. 支持y轴或者x轴单方向的偏移播放展示
	 
# 接入步骤
   1.  **容器QMGeneralVideoPlayView**
        1. 基础配置设置(后续根据业务需要可扩展)
            ```objc
            @interface QMGeneralVideoPlayConfig : NSObject
            /// 隐藏播放暂停,loading,错误提示
            @property (nonatomic,assign)BOOL hideAllTipLoading;

            /// 强制自动播放 不受全局WIFI下自动播放开关影响
            @property (nonatomic,assign)BOOL fouceAutoPlay;
            /// 展示中心,可以设置希望偏移的展示中心(不设置默认居中展示视频)
            /// 1 目前视频是竖屏的则会优先展示showCenter的y坐标区域内容
            /// 2 横屏视频会优先展示showCenter的x坐标内容
            /// 3 如果设置（0  0 ）,也是默认居中展示
            @property (nonatomic, assign) CGPoint showCenter;
            @end
            ```
        2. 初始化，Frame 根据需要自行设置
            ```objc
               - (QMGeneralVideoPlayView *)playView
               {       
                   if (_playView == nil)
                   {
                        QMGeneralVideoPlayConfig *config = [[QMGeneralVideoPlayConfig alloc] init];
                        config.hideAllTipLoading = YES;
                        config.fouceAutoPlay = YES;
                        _playView = [[QMGeneralVideoPlayView alloc] initWithFrame:self.bounds config:config];
                        _playView.delegate = self;
                    }
                    return _playView;
                }
            ```

   2. 播放数据源
        1. MVInfo 和 QMVideoCardFeedModel的自己支持
           ```objc
                /// 更新播放信息 1
                /// @param videoInfo mvinfo （默认居中展示）
                - (void)updatePlayInfoWith:(MVInfo *)videoInfo;
                /// 更新播放信息 2
                /// @param videoFeedModel 新视频tab model
                - (void)updatePlayInfoWithFeedModel:(QMVideoCardFeedModel *)videoFeedModel;
            ```
        2. 特殊的Vid+首帧图的支持（比如個性化歌單的接入）
            ```objc
                /// 更新播放信息,这个方法会根据vid 进行mvinfo查询，然后再播放 （默认居中展示） 便捷方法 但是注意有mvInfo請求時間
                /// @param vid 视频vid
                /// @param coverUrl 首帧图 默認優先展示
                - (void)playVideoWithVid:(NSString *)vid coverUrl:(NSString *)coverUrl;
            ```
   3. 播放控制
        1. 基础的播放控制
            ```objc
                /// 开始播放 这个方法的条件是已经有MVInfo信息已经更新，如果只有vid 想播不能用这个方法
                - (void)startPlay;
                
                /// 暂停
                - (void)pause;

                /// 恢复播放
                - (void)continuePlay;

                /// 结束播放,销毁
                - (void)stopPlay;       
            ```
   
   4. 一些交互处理


   5. 进入二级页


   6. 销毁

# 注意事项